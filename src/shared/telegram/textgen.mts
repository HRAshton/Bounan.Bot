import fs from 'fs';

const OUTPUT_FILE = __dirname + '/texts.ts';
const CONTENT = 'ZXhwb3J0IGVudW0gVGV4dHMgew0KICAgIFN0YXJ0ID0gJ9Cd0LDQv9C40YjQuCDQvdCw0LfQstCw0L3QuNC1INCw0L3QuNC80LUg0LjQu9C4INC90LDQttC80Lgg0L3QsCDQutC90L7Qv9C60YMgItCY0YHQutCw0YLRjCIsINC4INGPINC90LDQudC00YMg0LXQs9C+INC00LvRjyDRgtC10LHRjycsDQoNCiAgICBTZWFyY2hfX05vUmVzdWx0c0luU2hpa2kgPSAn0JDQvdC40LzQtSDQvdC1INC90LDQudC00LXQvdC+JywNCiAgICBTZWFyY2hfX05vUmVzdWx0c0luTG9hbiA9ICfQrdGC0L7Qs9C+INCw0L3QuNC80LUgKNC/0L7QutCwPykg0L3QtdGCINCyINCx0LDQt9C1JywNCg0KICAgIEZ1bGxNZXNzYWdlU2VhcmNoX19CZXN0UmVzdWx0cyA9ICfQndCw0LjQsdC+0LvQtdC1INC/0L7QtNGF0L7QtNGP0YnQuNC1INGA0LXQt9GD0LvRjNGC0LDRgtGLOicsDQoNCiAgICBNZXNzYWdlX19WaWRlb0lzQ29va2luZyA9ICfQktC40LTQtdC+INCz0L7RgtC+0LLQuNGC0YHRjy4g0K8g0L/RgNC40YjQu9GOINC10LPQviwg0LrQsNC6INGC0L7Qu9GM0LrQviDQsdGD0LTQtdGCINCz0L7RgtC+0LLQvicsDQogICAgTWVzc2FnZV9fRXBpc29kZVdpdGhEdWJOb3RGb3VuZCA9ICfQodC10YDQuNC4INC90LXRgiDQsiDRjdGC0L7QvCDQv9C10YDQtdCy0L7QtNC1LiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQtNGA0YPQs9C+0LknLA0KDQogICAgQW5pbWVEZXNjcmlwdGlvbl9fTmFtZSA9ICc8Yj4lMTwvYj4nLA0KICAgIEFuaW1lRGVzY3JpcHRpb25fX0FpcmVkT24gPSAn0JPQvtC0INCy0YvQv9GD0YHQutCwOiAlMScsDQogICAgQW5pbWVEZXNjcmlwdGlvbl9fR2VucmVzID0gJ9CW0LDQvdGA0Ys6ICUxJywNCiAgICBBbmltZURlc2NyaXB0aW9uX19MaW5rcyA9ICc8YSBocmVmPSJodHRwczovL3NoaWtpbW9yaS5vbmUvYW5pbWVzLyUxIj5TaGlraW1vcmkgPj4gPC9hPiB8IDxhIGhyZWY9Imh0dHBzOi8vbXlhbmltZWxpc3QubmV0L2FuaW1lLyUxIj5NQUwgPj48L2E+JywNCg0KICAgIEtub3duSW5saW5lQW5zd2Vyc19fTm9SZXN1bHRzID0gJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JywNCiAgICBLbm93bklubGluZUFuc3dlcnNfX05vUmVsYXRlZEFuaW1lID0gJ9Cd0LXRgiDRgdCy0Y/Qt9Cw0L3QvdGL0YUg0LDQvdC40LzQtScsDQogICAgS25vd25JbmxpbmVBbnN3ZXJzX19BbmltZVVuYXZhaWxhYmxlID0gJ9Ct0YLQviDQsNC90LjQvNC1INC90LXQtNC+0YHRgtGD0L/QvdC+JywNCg0KICAgIFZpZGVvRGVzY3JpcHRpb25fX05hbWUgPSAnPGI+JTE8L2I+ICUyJywNCiAgICBWaWRlb0Rlc2NyaXB0aW9uX19FcGlzb2RlID0gJ9Ch0LXRgNC40Y8gJTEnLA0KICAgIFZpZGVvRGVzY3JpcHRpb25fX0VuZE9mT3BlbmluZyA9ICclMSAtINCa0L7QvdC10YYg0L7Qv9C10L3QuNC90LPQsCAo0L7RgiAlMiknLA0KICAgIFZpZGVvRGVzY3JpcHRpb25fX1NjZW5lQWZ0ZXJFbmRpbmcgPSAnJTEgLSDQodGG0LXQvdCwLdC/0L7RgdC70LUt0YLQuNGC0YDQvtCyJywNCg0KICAgIEJ1dHRvbl9fU2VhcmNoID0gJ/CflI0g0JjRgdC60LDRgtGMJywNCiAgICBCdXR0b25fX1dhdGNoID0gJ9Ch0LzQvtGC0YDQtdGC0YwnLA0KICAgIEJ1dHRvbl9fRnJhbmNoaXNlID0gJ9Ck0YDQsNC90YjQuNC30LAnLA0KICAgIEJ1dHRvbl9fQWJvdXRUaXRsZSA9ICfwn5SNINCeINGA0LXQu9C40LfQtScsDQogICAgQnV0dG9uX19BbGxFcGlzb2RlcyA9ICfwn42/INCS0YHQtSDRgdC10YDQuNC4JywNCiAgICBCdXR0b25fX05leHRFcGlzb2RlID0gJz4+JywNCiAgICBCdXR0b25fX1ByZXZpb3VzRXBpc29kZSA9ICc8PCcsDQoNCiAgICBFcnJvck9uRXBpc29kZSA9ICfQryDQvdC1INGB0LzQvtCzINC90LDQudGC0Lgg0Y3RgtGDINGB0LXRgNC40Y4uINCa0LDQutCw0Y8t0YLQviDQvtGI0LjQsdC60LAsINGA0LDQt9GA0LDQsdC+0YLRh9C40Log0YPQttC1INGD0LLQtdC00L7QvNC70LXQvScsDQogICAgVW5rbm93bkVycm9yID0gJ9Cn0YLQvi3RgtC+INGB0LvQvtC80LDQu9C+0YHRjC4g0KDQsNC30YDQsNCx0L7RgtGH0LjQuiDRg9C20LUg0YPQstC10LTQvtC80LvQtdC9JywNCn0=';

const encode = () => {
    const encoder = new TextEncoder();

    const plainText = fs.readFileSync(OUTPUT_FILE, { encoding: 'utf8' });
    const encodedText = encoder.encode(plainText);
    const base64Encoded = Buffer.from(encodedText).toString('base64');

    const template = `const CONTENT = '${base64Encoded}';\n`;
    fs.writeFileSync(OUTPUT_FILE, template, { encoding: 'utf8' });
};

const decode = () => {
    const decodedBuffer = Buffer.from(CONTENT, 'base64');
    const decoder = new TextDecoder();
    const decodedText = decoder.decode(decodedBuffer);

    fs.writeFileSync(OUTPUT_FILE, decodedText, { encoding: 'utf8' });
    console.log('Decoded text written to', OUTPUT_FILE);
};

const reverse = process.argv.includes('--reverse');
if (reverse) {
    encode();
} else {
    decode();
}
